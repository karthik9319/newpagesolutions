page_scanner_task:
  description: >
    Extract ONLY actual HTML elements from the page. Identify probable interactive
    components (links, buttons, menu items). Do not fabricate HTML. If unsure,
    list elements as “uncertain interaction candidates”.
  expected_output: >
    JSON containing a list: { "candidates": [...] }
  agent: page_scanner

interaction_analyzer_task:
  description: >
    For each candidate:
    - analyze real attributes
    - infer interaction possibilities conservatively
    - avoid claiming behaviors not supported by HTML
  expected_output: >
    JSON: { "predicted_interactions": [...] }
  agent: interaction_analyzer
  context:
    - page_scanner_task

popup_detector_task:
  description: >
    Detect popups ONLY if HTML contains actual modal/dialog/overlay markup.
    Otherwise output an empty list.
  expected_output: >
    JSON: { "predicted_popups": [...] }
  agent: popup_detector
  context:
    - interaction_analyzer_task

scenario_reasoner_task:
  description: >
    Build scenarios ONLY from grounded interactions.
    Produce generic steps when specificity is impossible.
  expected_output: >
    JSON: { "scenarios": [...] }
  agent: scenario_reasoner
  context:
    - popup_detector_task

gherkin_generation_task:
  description: >
    Convert scenario JSON to strict Gherkin.
    Steps must sound human-like but grounded.
  expected_output: >
    Gherkin feature text.
  agent: gherkin_writer
  context:
    - scenario_reasoner_task